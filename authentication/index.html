



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for the Nakama realtime and social server for games and apps.">
      
      
        <link rel="canonical" href="https://heroiclabs.com/authentication/">
      
      
        <meta name="author" content="Heroic Labs Team & contributors">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../images/favicon.ico">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.2.0">
    
    
      
        <title>Authentication - Nakama server</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.5d3fffba.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.fbd935c7.css">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../stylesheets/code-tabs.css">
    
    
  </head>
  
    
    
    
      <body data-md-color-primary="indigo" data-md-color-accent="indigo">
    
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://heroiclabs.com/" title="Nakama server" class="md-header-nav__button md-logo">
          
            <img src="../images/logo-white.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Nakama server
              </span>
              <span class="md-header-nav__topic">
                Authentication
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/heroiclabs/nakama/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      heroiclabs/nakama
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../images/logo-white.svg" width="24" height="24">
      
    </span>
    Nakama server
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/heroiclabs/nakama/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      heroiclabs/nakama
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../nakama-download/" title="Download" class="md-nav__link">
      Download
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Install and setup
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Install and setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../install-docker-quickstart/" title="Docker quickstart" class="md-nav__link">
      Docker quickstart
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../install-binary/" title="Binary install" class="md-nav__link">
      Binary install
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../install-configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../install-server-cli/" title="Nakama CLI" class="md-nav__link">
      Nakama CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../install-nakama-upgrade/" title="Upgrades" class="md-nav__link">
      Upgrades
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../unity-client-guide/" title="Unity client guide" class="md-nav__link">
      Unity client guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../android-java-client-guide/" title="Android client guide" class="md-nav__link">
      Android client guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../javascript-client-guide/" title="JavaScript client guide" class="md-nav__link">
      JavaScript client guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../swift-ios-client-guide/" title="Swift/iOS client guide" class="md-nav__link">
      Swift/iOS client guide
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Authentication
      </label>
    
    <a href="./" title="Authentication" class="md-nav__link md-nav__link--active">
      Authentication
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#register-or-login" title="Register or login" class="md-nav__link">
    Register or login
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#device" title="Device" class="md-nav__link">
    Device
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#email" title="Email" class="md-nav__link">
    Email
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#social-providers" title="Social providers" class="md-nav__link">
    Social providers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#facebook" title="Facebook" class="md-nav__link">
    Facebook
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#google" title="Google" class="md-nav__link">
    Google
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#game-center" title="Game Center" class="md-nav__link">
    Game Center
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#steam" title="Steam" class="md-nav__link">
    Steam
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom" title="Custom" class="md-nav__link">
    Custom
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sessions" title="Sessions" class="md-nav__link">
    Sessions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connect" title="Connect" class="md-nav__link">
    Connect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#link-or-unlink" title="Link or unlink" class="md-nav__link">
    Link or unlink
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../user-accounts/" title="User accounts" class="md-nav__link">
      User accounts
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Storage Engine
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Storage Engine
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../storage-collections/" title="Collections" class="md-nav__link">
      Collections
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Social
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Social
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../social-friends/" title="Friends" class="md-nav__link">
      Friends
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../social-groups-clans/" title="Groups and Clans" class="md-nav__link">
      Groups and Clans
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../social-in-app-notifications/" title="In-app Notifications" class="md-nav__link">
      In-app Notifications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../social-realtime-chat/" title="Realtime Chat" class="md-nav__link">
      Realtime Chat
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Gameplay
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        Gameplay
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../gameplay-leaderboards/" title="Leaderboards" class="md-nav__link">
      Leaderboards
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gameplay-matchmaker/" title="Matchmaker" class="md-nav__link">
      Matchmaker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gameplay-multiplayer-realtime/" title="Realtime Multiplayer" class="md-nav__link">
      Realtime Multiplayer
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../in-app-purchase-validation/" title="In-app Purchase Validation" class="md-nav__link">
      In-app Purchase Validation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Runtime Code
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        Runtime Code
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../runtime-code-basics/" title="Basics" class="md-nav__link">
      Basics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../runtime-code-function-reference/" title="Function Reference" class="md-nav__link">
      Function Reference
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../benchmarks/" title="Benchmarks" class="md-nav__link">
      Benchmarks
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16" type="checkbox" id="nav-16">
    
    <label class="md-nav__link" for="nav-16">
      Deployment
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-16">
        Deployment
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../deployment-digital-ocean/" title="Digital Ocean" class="md-nav__link">
      Digital Ocean
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-17" type="checkbox" id="nav-17">
    
    <label class="md-nav__link" for="nav-17">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-17">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorial-develop-with-libgdx/" title="Develop with LibGDX" class="md-nav__link">
      Develop with LibGDX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorial-initialize-new-user/" title="Initialize a new user" class="md-nav__link">
      Initialize a new user
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorial-remote-configuration/" title="Remote configuration" class="md-nav__link">
      Remote configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorial-send-push-messages/" title="Send push messages" class="md-nav__link">
      Send push messages
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#register-or-login" title="Register or login" class="md-nav__link">
    Register or login
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#device" title="Device" class="md-nav__link">
    Device
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#email" title="Email" class="md-nav__link">
    Email
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#social-providers" title="Social providers" class="md-nav__link">
    Social providers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#facebook" title="Facebook" class="md-nav__link">
    Facebook
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#google" title="Google" class="md-nav__link">
    Google
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#game-center" title="Game Center" class="md-nav__link">
    Game Center
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#steam" title="Steam" class="md-nav__link">
    Steam
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom" title="Custom" class="md-nav__link">
    Custom
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sessions" title="Sessions" class="md-nav__link">
    Sessions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connect" title="Connect" class="md-nav__link">
    Connect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#link-or-unlink" title="Link or unlink" class="md-nav__link">
    Link or unlink
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/heroiclabs/nakama-docs/edit/master/docs/authentication.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="authentication">Authentication<a class="headerlink" href="#authentication" title="Permanent link">&para;</a></h1>
<p>The server has builtin authentication so clients can only send requests and connect if they have the <a href="../install-configuration/#socket">server key</a>. When authentication is successful a client can create a session as a <a href="../user-accounts/">user</a>.</p>
<div class="admonition warning">
<p class="admonition-title">Important</p>
<p>The default server key is <code>defaultkey</code> but it is very important to set a <a href="../install-configuration/#socket">unique value</a>. This value should be embedded within client code.</p>
</div>
<p>
                <div class="code-nav-container">
                    
        <ul class="nav nav-tabs">
            
        <li class="nav-item active">
            <a href="#tab-0-csharp" aria-controls="tab-0-csharp" role="tab" data-toggle="tab" data-lang="csharp">Unity</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-0-java" aria-controls="tab-0-java" role="tab" data-toggle="tab" data-lang="java">Android/Java</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-0-swift" aria-controls="tab-0-swift" role="tab" data-toggle="tab" data-lang="swift">Swift</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-0-js" aria-controls="tab-0-js" role="tab" data-toggle="tab" data-lang="js">Javascript</a>
        </li>
    
        </ul>
    
        <div class="tab-content">
            
        <div role="tabpanel" class="tab-pane active" id="tab-0-csharp">
            <div class="codehilite"><pre><span></span><span class="n">INClient</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">NClient</span><span class="p">.</span><span class="n">Builder</span><span class="p">(</span><span class="s">&quot;defaultkey&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="n">Host</span><span class="p">(</span><span class="s">&quot;127.0.0.1&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="n">Port</span><span class="p">(</span><span class="m">7350</span><span class="p">)</span>
    <span class="p">.</span><span class="n">SSL</span><span class="p">(</span><span class="k">false</span><span class="p">)</span>
    <span class="p">.</span><span class="n">Build</span><span class="p">();</span>
<span class="c1">// or same as above.</span>
<span class="n">INClient</span> <span class="n">client</span> <span class="p">=</span> <span class="n">NClient</span><span class="p">.</span><span class="n">Default</span><span class="p">(</span><span class="s">&quot;defaultkey&quot;</span><span class="p">);</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-0-java">
            <div class="codehilite"><pre><span></span><span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">DefaultClient</span><span class="o">.</span><span class="na">builder</span><span class="o">(</span><span class="s">&quot;defaultkey&quot;</span><span class="o">)</span>
    <span class="o">.</span><span class="na">host</span><span class="o">(</span><span class="s">&quot;127.0.0.1&quot;</span><span class="o">)</span>
    <span class="o">.</span><span class="na">port</span><span class="o">(</span><span class="mi">7350</span><span class="o">)</span>
    <span class="o">.</span><span class="na">ssl</span><span class="o">(</span><span class="kc">false</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
<span class="c1">// or same as above.</span>
<span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">DefaultClient</span><span class="o">.</span><span class="na">defaults</span><span class="o">(</span><span class="s">&quot;defaultkey&quot;</span><span class="o">);</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-0-swift">
            <div class="codehilite"><pre><span></span><span class="kd">let</span> <span class="nv">client</span> <span class="p">:</span> <span class="n">Client</span> <span class="p">=</span> <span class="n">Builder</span><span class="p">(</span><span class="s">&quot;defaultkey&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="n">host</span><span class="p">(</span><span class="s">&quot;127.0.0.1&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="n">port</span><span class="p">(</span><span class="mi">7350</span><span class="p">)</span>
    <span class="p">.</span><span class="n">ssl</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
    <span class="p">.</span><span class="n">build</span><span class="p">()</span>
<span class="c1">// or same as above.</span>
<span class="kd">let</span> <span class="nv">client</span> <span class="p">:</span> <span class="n">Client</span> <span class="p">=</span> <span class="n">Builder</span><span class="p">.</span><span class="n">defaults</span><span class="p">(</span><span class="n">serverKey</span><span class="p">:</span> <span class="s">&quot;defaultkey&quot;</span><span class="p">)</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-0-js">
            <div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">nakamajs</span><span class="p">.</span><span class="nx">Client</span><span class="p">(</span><span class="s2">&quot;defaultkey&quot;</span><span class="p">,</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span> <span class="mi">7350</span><span class="p">);</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">ssl</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

<span class="c1">// or same as above.</span>
<span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">nakamajs</span><span class="p">.</span><span class="nx">Client</span><span class="p">(</span><span class="s2">&quot;defaultkey&quot;</span><span class="p">);</span>
</pre></div>

        </div>
    
        </div>
    
                </div>
                    </p>
<p>Every user account is created from one of the <a href="#register-or-login">options used to register</a>. We call each of these options a "link" because it's a way to access the user's account. You can add more than one link to each account which is useful to enable users to login in multiple ways across different devices.</p>
<h2 id="register-or-login">Register or login<a class="headerlink" href="#register-or-login" title="Permanent link">&para;</a></h2>
<p>Before you login a user they must first be registered. We recommend you setup your code to login the user and fallback to register the account if one does not exist. This pattern is shown in the <a href="#device">device</a> section.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The authentication system is very flexible. You could register a user with an email address, <a href="#link-or-unlink">link</a> their Facebook account, and use it to login from another device.</p>
</div>
<p>For a <strong>full example</strong> on the best way to handle register and login in each of the clients have a look at their guides.</p>
<h3 id="device">Device<a class="headerlink" href="#device" title="Permanent link">&para;</a></h3>
<p>A device identifier can be used as a way to unobtrusively register a user with the server. This offers a frictionless user experience but can be unreliable because device identifiers can sometimes change in device updates.</p>
<p>A device identifier must contain alphanumeric characters with dashes and be between 10 and 60 bytes.</p>
<p>
                <div class="code-nav-container">
                    
        <ul class="nav nav-tabs">
            
        <li class="nav-item active">
            <a href="#tab-1-csharp" aria-controls="tab-1-csharp" role="tab" data-toggle="tab" data-lang="csharp">Unity</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-1-java" aria-controls="tab-1-java" role="tab" data-toggle="tab" data-lang="java">Android/Java</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-1-swift" aria-controls="tab-1-swift" role="tab" data-toggle="tab" data-lang="swift">Swift</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-1-js" aria-controls="tab-1-js" role="tab" data-toggle="tab" data-lang="js">Javascript</a>
        </li>
    
        </ul>
    
        <div class="tab-content">
            
        <div role="tabpanel" class="tab-pane active" id="tab-1-csharp">
            <div class="codehilite"><pre><span></span><span class="kt">var</span> <span class="n">sessionHandler</span> <span class="p">=</span> <span class="k">delegate</span><span class="p">(</span><span class="n">INSession</span> <span class="n">session</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">Debug</span><span class="p">.</span><span class="n">LogFormat</span><span class="p">(</span><span class="s">&quot;Session: &#39;{0}&#39;.&quot;</span><span class="p">,</span> <span class="n">session</span><span class="p">.</span><span class="n">Token</span><span class="p">);</span>
<span class="p">};</span>

<span class="kt">var</span> <span class="n">id</span> <span class="p">=</span> <span class="n">PlayerPrefs</span><span class="p">.</span><span class="n">GetString</span><span class="p">(</span><span class="s">&quot;nk.id&quot;</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">IsNullOrEmpty</span><span class="p">(</span><span class="n">id</span><span class="p">))</span> <span class="p">{</span>
  <span class="n">id</span> <span class="p">=</span> <span class="n">SystemInfo</span><span class="p">.</span><span class="n">deviceUniqueIdentifier</span><span class="p">;</span>
  <span class="n">PlayerPrefs</span><span class="p">.</span><span class="n">SetString</span><span class="p">(</span><span class="s">&quot;nk.id&quot;</span><span class="p">,</span> <span class="n">id</span><span class="p">);</span> <span class="c1">// cache device id.</span>
<span class="p">}</span>

<span class="kt">var</span> <span class="n">message</span> <span class="p">=</span> <span class="n">NAuthenticateMessage</span><span class="p">.</span><span class="n">Device</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
<span class="n">client</span><span class="p">.</span><span class="n">Login</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">sessionHandler</span><span class="p">,</span> <span class="p">(</span><span class="n">INError</span> <span class="n">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">err</span><span class="p">.</span><span class="n">Code</span> <span class="p">==</span> <span class="n">ErrorCode</span><span class="p">.</span><span class="n">UserNotFound</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">client</span><span class="p">.</span><span class="n">Register</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">sessionHandler</span><span class="p">,</span> <span class="p">(</span><span class="n">INError</span> <span class="n">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="n">Debug</span><span class="p">.</span><span class="n">LogErrorFormat</span><span class="p">(</span><span class="s">&quot;Error: code &#39;{0}&#39; with &#39;{1}&#39;.&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">Debug</span><span class="p">.</span><span class="n">LogErrorFormat</span><span class="p">(</span><span class="s">&quot;Error: code &#39;{0}&#39; with &#39;{1}&#39;.&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-1-java">
            <div class="codehilite"><pre><span></span><span class="n">String</span> <span class="n">id</span> <span class="o">=</span> <span class="n">UUID</span><span class="o">.</span><span class="na">randomUUID</span><span class="o">().</span><span class="na">toString</span><span class="o">();</span>
<span class="n">AuthenticateMessage</span> <span class="n">message</span> <span class="o">=</span> <span class="n">AuthenticateMessage</span><span class="o">.</span><span class="na">Builder</span><span class="o">.</span><span class="na">device</span><span class="o">(</span><span class="n">id</span><span class="o">);</span>
<span class="n">Deferred</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">&gt;</span> <span class="n">deferred</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">login</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
<span class="n">deferred</span><span class="o">.</span><span class="na">addCallbackDeferring</span><span class="o">(</span><span class="k">new</span> <span class="n">Callback</span><span class="o">&lt;</span><span class="n">Deferred</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">&gt;,</span> <span class="n">Session</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="n">Deferred</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">&gt;</span> <span class="nf">call</span><span class="o">(</span><span class="n">Session</span> <span class="n">session</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="na">connect</span><span class="o">(</span><span class="n">session</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}).</span><span class="na">addErrback</span><span class="o">(</span><span class="k">new</span> <span class="n">Callback</span><span class="o">&lt;</span><span class="n">Deferred</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">&gt;,</span> <span class="n">Error</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="n">Deferred</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">&gt;</span> <span class="nf">call</span><span class="o">(</span><span class="n">Error</span> <span class="n">err</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">err</span><span class="o">.</span><span class="na">getCode</span><span class="o">()</span> <span class="o">==</span> <span class="n">Error</span><span class="o">.</span><span class="na">ErrorCode</span><span class="o">.</span><span class="na">USER_NOT_FOUND</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;User not found, we&#39;ll register the user.&quot;</span><span class="o">);</span>
      <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">throw</span> <span class="n">err</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}).</span><span class="na">addCallbackDeferring</span><span class="o">(</span><span class="k">new</span> <span class="n">Callback</span><span class="o">&lt;</span><span class="n">Deferred</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">&gt;,</span> <span class="n">Session</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="n">Deferred</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">&gt;</span> <span class="nf">call</span><span class="o">(</span><span class="n">Session</span> <span class="n">session</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="na">connect</span><span class="o">(</span><span class="n">session</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}).</span><span class="na">addCallback</span><span class="o">(</span><span class="k">new</span> <span class="n">Callback</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">,</span> <span class="n">Session</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="n">Session</span> <span class="nf">call</span><span class="o">(</span><span class="n">Session</span> <span class="n">session</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Session connected: &#39;%s&#39;&quot;</span><span class="o">,</span> <span class="n">session</span><span class="o">.</span><span class="na">getToken</span><span class="o">());</span>
    <span class="k">return</span> <span class="n">session</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}).</span><span class="na">addErrback</span><span class="o">(</span><span class="k">new</span> <span class="n">Callback</span><span class="o">&lt;</span><span class="n">Error</span><span class="o">,</span> <span class="n">Error</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="n">Error</span> <span class="nf">call</span><span class="o">(</span><span class="n">Error</span> <span class="n">err</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Error(&#39;%s&#39;, &#39;%s&#39;)&quot;</span><span class="o">,</span> <span class="n">err</span><span class="o">.</span><span class="na">getCode</span><span class="o">(),</span> <span class="n">err</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
    <span class="k">return</span> <span class="n">err</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">});</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-1-swift">
            <div class="codehilite"><pre><span></span><span class="kd">let</span> <span class="nv">defaults</span> <span class="p">=</span> <span class="n">UserDefaults</span><span class="p">.</span><span class="n">standard</span>
<span class="kd">let</span> <span class="nv">deviceKey</span> <span class="p">=</span> <span class="s">&quot;device_id&quot;</span>

<span class="kd">var</span> <span class="nv">deviceId</span> <span class="p">:</span> <span class="nb">String</span><span class="p">?</span> <span class="p">=</span> <span class="n">defaults</span><span class="p">.</span><span class="n">string</span><span class="p">(</span><span class="n">forKey</span><span class="p">:</span> <span class="n">deviceKey</span><span class="p">)</span>
<span class="k">if</span> <span class="n">deviceId</span> <span class="p">==</span> <span class="kc">nil</span> <span class="p">{</span>
  <span class="n">deviceId</span> <span class="p">=</span> <span class="bp">UIDevice</span><span class="p">.</span><span class="n">current</span><span class="p">.</span><span class="n">identifierForVendor</span><span class="p">!.</span><span class="n">uuidString</span>
  <span class="n">defaults</span><span class="p">.</span><span class="kr">set</span><span class="p">(</span><span class="n">deviceId</span><span class="p">!,</span> <span class="n">forKey</span><span class="p">:</span> <span class="n">deviceKey</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nv">message</span> <span class="p">=</span> <span class="n">AuthenticateMessage</span><span class="p">(</span><span class="n">device</span><span class="p">:</span> <span class="n">deviceId</span><span class="p">!)</span>
<span class="n">client</span><span class="p">.</span><span class="n">login</span><span class="p">(</span><span class="n">with</span><span class="p">:</span> <span class="n">message</span><span class="p">).</span><span class="n">then</span> <span class="p">{</span> <span class="n">session</span> <span class="k">in</span>
  <span class="bp">print</span><span class="p">(</span><span class="s">&quot;Login successful&quot;</span><span class="p">)</span>
<span class="p">}.</span><span class="k">catch</span><span class="p">{</span> <span class="n">err</span> <span class="k">in</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">err</span> <span class="k">is</span> <span class="n">NakamaError</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="n">err</span> <span class="k">as</span><span class="p">!</span> <span class="n">NakamaError</span> <span class="p">{</span>
    <span class="k">case</span> <span class="p">.</span><span class="n">userNotFound</span><span class="p">(</span><span class="kc">_</span><span class="p">):</span>
      <span class="kd">let</span> <span class="nv">_</span> <span class="p">=</span> <span class="kc">self</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">register</span><span class="p">(</span><span class="n">with</span><span class="p">:</span> <span class="n">message</span><span class="p">)</span>
      <span class="k">return</span>
    <span class="k">default</span><span class="p">:</span>
      <span class="k">break</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="bp">print</span><span class="p">(</span><span class="s">&quot;Could not login: %@&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-1-js">
            <div class="codehilite"><pre><span></span><span class="c1">// The following example is only applicable to React Native apps:</span>
<span class="kd">var</span> <span class="nx">deviceInfo</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;react-native-device-info&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">deviceId</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">AsyncStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s1">&#39;@MyApp:deviceKey&#39;</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">){</span>
    <span class="nx">deviceId</span> <span class="o">=</span> <span class="nx">value</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">deviceId</span> <span class="o">=</span> <span class="nx">deviceInfo</span><span class="p">.</span><span class="nx">getUniqueID</span><span class="p">();</span>
    <span class="nx">AsyncStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">&#39;@MyApp:deviceKey&#39;</span><span class="p">,</span> <span class="nx">deviceId</span><span class="p">).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;An error occured: %o&quot;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;An error occured: %o&quot;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="nx">nakamajs</span><span class="p">.</span><span class="nx">AuthenticateRequest</span><span class="p">.</span><span class="nx">device</span><span class="p">(</span><span class="nx">deviceId</span><span class="p">);</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="nx">message</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">session</span><span class="p">){</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Successfully logged in, session: %o&quot;</span><span class="p">,</span> <span class="nx">session</span><span class="p">);</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
   <span class="c1">// USER_NOT_FOUND</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">code</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">client</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="nx">message</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">session</span><span class="p">){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Successfully registered, session: %o&quot;</span><span class="p">,</span> <span class="nx">session</span><span class="p">);</span>
      <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Could not register: %o&quot;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
      <span class="p">});</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Could not login: %o&quot;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>

        </div>
    
        </div>
    
                </div>
                    </p>
<p>In games it is often a better option to use <a href="#google">Google</a> or <a href="#game-center">Game Center</a> to unobtrusively register the user.</p>
<h3 id="email">Email<a class="headerlink" href="#email" title="Permanent link">&para;</a></h3>
<p>Users can be registered with an email and password. The password is hashed before it's stored in the database server and cannot be read or "recovered" by administrators. This protects a user's privacy.</p>
<p>An email address must be valid as defined by RFC-5322 and passwords must be at least 8 characters.</p>
<p>
                <div class="code-nav-container">
                    
        <ul class="nav nav-tabs">
            
        <li class="nav-item active">
            <a href="#tab-2-csharp" aria-controls="tab-2-csharp" role="tab" data-toggle="tab" data-lang="csharp">Unity</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-2-java" aria-controls="tab-2-java" role="tab" data-toggle="tab" data-lang="java">Android/Java</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-2-swift" aria-controls="tab-2-swift" role="tab" data-toggle="tab" data-lang="swift">Swift</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-2-js" aria-controls="tab-2-js" role="tab" data-toggle="tab" data-lang="js">Javascript</a>
        </li>
    
        </ul>
    
        <div class="tab-content">
            
        <div role="tabpanel" class="tab-pane active" id="tab-2-csharp">
            <div class="codehilite"><pre><span></span><span class="kt">string</span> <span class="n">email</span> <span class="p">=</span> <span class="s">&quot;email@example.com&quot;</span>
<span class="kt">string</span> <span class="n">password</span> <span class="p">=</span> <span class="s">&quot;3bc8f72e95a9&quot;</span>

<span class="kt">var</span> <span class="n">message</span> <span class="p">=</span> <span class="n">NAuthenticateMessage</span><span class="p">.</span><span class="n">Email</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">password</span><span class="p">);</span>
<span class="n">client</span><span class="p">.</span><span class="n">Register</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="p">(</span><span class="n">INSession</span> <span class="n">session</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="n">Debug</span><span class="p">.</span><span class="n">LogFormat</span><span class="p">(</span><span class="s">&quot;Session: &#39;{0}&#39;.&quot;</span><span class="p">,</span> <span class="n">session</span><span class="p">.</span><span class="n">Token</span><span class="p">);</span>
<span class="p">},</span> <span class="p">(</span><span class="n">INError</span> <span class="n">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="n">Debug</span><span class="p">.</span><span class="n">LogErrorFormat</span><span class="p">(</span><span class="s">&quot;Error: code &#39;{0}&#39; with &#39;{1}&#39;.&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
<span class="p">});</span>
<span class="c1">// Use client.Login(...) after register.</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-2-java">
            <div class="codehilite"><pre><span></span><span class="n">String</span> <span class="n">email</span> <span class="o">=</span> <span class="s">&quot;email@example.com&quot;</span>
<span class="n">String</span> <span class="n">password</span> <span class="o">=</span> <span class="s">&quot;3bc8f72e95a9&quot;</span>

<span class="n">AuthenticateMessage</span> <span class="n">message</span> <span class="o">=</span> <span class="n">AuthenticateMessage</span><span class="o">.</span><span class="na">Builder</span><span class="o">.</span><span class="na">email</span><span class="o">(</span><span class="n">email</span><span class="o">,</span> <span class="n">password</span><span class="o">);</span>
<span class="n">Deferred</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">&gt;</span> <span class="n">deferred</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
<span class="n">deferred</span><span class="o">.</span><span class="na">addCallback</span><span class="o">(</span><span class="k">new</span> <span class="n">Callback</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">,</span> <span class="n">Session</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="n">Session</span> <span class="nf">call</span><span class="o">(</span><span class="n">Session</span> <span class="n">session</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Session: &#39;%s&#39;&quot;</span><span class="o">,</span> <span class="n">session</span><span class="o">.</span><span class="na">getToken</span><span class="o">());</span>
    <span class="k">return</span> <span class="n">session</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}).</span><span class="na">addErrback</span><span class="o">(</span><span class="k">new</span> <span class="n">Callback</span><span class="o">&lt;</span><span class="n">Error</span><span class="o">,</span> <span class="n">Error</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="n">Error</span> <span class="nf">call</span><span class="o">(</span><span class="n">Error</span> <span class="n">err</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Error(&#39;%s&#39;, &#39;%s&#39;)&quot;</span><span class="o">,</span> <span class="n">err</span><span class="o">.</span><span class="na">getCode</span><span class="o">(),</span> <span class="n">err</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
    <span class="k">return</span> <span class="n">err</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">});</span>
<span class="c1">// Use client.login(...) after register.</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-2-swift">
            <div class="codehilite"><pre><span></span><span class="kd">let</span> <span class="nv">email</span> <span class="p">=</span> <span class="s">&quot;email@example.com&quot;</span>
<span class="kd">let</span> <span class="nv">password</span> <span class="p">=</span> <span class="s">&quot;3bc8f72e95a9&quot;</span>

<span class="kd">let</span> <span class="nv">message</span> <span class="p">=</span> <span class="n">AuthenticateMessage</span><span class="p">(</span><span class="n">email</span><span class="p">:</span> <span class="n">email</span><span class="p">,</span> <span class="n">password</span><span class="p">:</span> <span class="n">password</span><span class="p">)</span>
<span class="n">client</span><span class="p">.</span><span class="n">register</span><span class="p">(</span><span class="n">with</span><span class="p">:</span> <span class="n">message</span><span class="p">).</span><span class="n">then</span> <span class="p">{</span> <span class="n">session</span> <span class="k">in</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Session: %@&quot;</span><span class="p">,</span> <span class="n">session</span><span class="p">.</span><span class="n">token</span><span class="p">)</span>
<span class="p">}.</span><span class="k">catch</span> <span class="p">{</span> <span class="n">err</span> <span class="k">in</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Error %@ : %@&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">,</span> <span class="p">(</span><span class="n">err</span> <span class="k">as</span><span class="p">!</span> <span class="n">NakamaError</span><span class="p">).</span><span class="n">message</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// Use client.login(...) after register.</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-2-js">
            <div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">email</span> <span class="o">=</span> <span class="s2">&quot;email@example.com&quot;</span>
<span class="kd">var</span> <span class="nx">password</span> <span class="o">=</span> <span class="s2">&quot;3bc8f72e95a9&quot;</span>

<span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="nx">nakamajs</span><span class="p">.</span><span class="nx">AuthenticateRequest</span><span class="p">.</span><span class="nx">email</span><span class="p">(</span><span class="nx">email</span><span class="p">,</span> <span class="nx">password</span><span class="p">);</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="nx">message</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">session</span><span class="p">){</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Successfully logged in, session: %o&quot;</span><span class="p">,</span> <span class="nx">session</span><span class="p">);</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
   <span class="c1">// USER_NOT_FOUND</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">code</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">client</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="nx">message</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">session</span><span class="p">){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Successfully registered, session: %o&quot;</span><span class="p">,</span> <span class="nx">session</span><span class="p">);</span>
      <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Could not register: %o&quot;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
      <span class="p">});</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Could not login: %o&quot;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>

        </div>
    
        </div>
    
                </div>
                    </p>
<h3 id="social-providers">Social providers<a class="headerlink" href="#social-providers" title="Permanent link">&para;</a></h3>
<p>The server supports a lot of different social services with register and login. With each provider the user account will be fetched from the social service and used to setup the user. In some cases a user's <a href="../social-friends/">friends</a> will also be fetched and added to their friends list.</p>
<p>To register or login as a user with any of the providers an OAuth or access token must be obtained from that social service.</p>
<h4 id="facebook">Facebook<a class="headerlink" href="#facebook" title="Permanent link">&para;</a></h4>
<p>With Facebook you'll need to add the Facebook SDK to your project which can be <a href="https://developers.facebook.com/docs/" target="\_blank">downloaded online</a>. Follow their guides on how to integrate the code. With a mobile project you'll also need to complete instructions on how to configure iOS and Android.</p>
<p>
                <div class="code-nav-container">
                    
        <ul class="nav nav-tabs">
            
        <li class="nav-item active">
            <a href="#tab-3-csharp" aria-controls="tab-3-csharp" role="tab" data-toggle="tab" data-lang="csharp">Unity</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-3-swift" aria-controls="tab-3-swift" role="tab" data-toggle="tab" data-lang="swift">Swift</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-3-js" aria-controls="tab-3-js" role="tab" data-toggle="tab" data-lang="js">Javascript</a>
        </li>
    
        </ul>
    
        <div class="tab-content">
            
        <div role="tabpanel" class="tab-pane active" id="tab-3-csharp">
            <div class="codehilite"><pre><span></span><span class="n">Action</span><span class="p">&lt;</span><span class="n">INSession</span><span class="p">&gt;</span> <span class="n">sessionHandler</span> <span class="p">=</span> <span class="k">delegate</span><span class="p">(</span><span class="n">INSession</span> <span class="n">session</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">Debug</span><span class="p">.</span><span class="n">LogFormat</span><span class="p">(</span><span class="s">&quot;Session: &#39;{0}&#39;.&quot;</span><span class="p">,</span> <span class="n">session</span><span class="p">.</span><span class="n">Token</span><span class="p">);</span>
  <span class="n">client</span><span class="p">.</span><span class="n">Connect</span><span class="p">(</span><span class="n">session</span><span class="p">);</span>
<span class="p">};</span>

<span class="kt">var</span> <span class="n">initCallback</span> <span class="p">=</span> <span class="k">delegate</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">FB</span><span class="p">.</span><span class="n">IsInitialized</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">FB</span><span class="p">.</span><span class="n">ActivateApp</span><span class="p">();</span>
    <span class="c1">// use a Facebook access token to create a user account.</span>
    <span class="kt">var</span> <span class="n">oauthToken</span> <span class="p">=</span> <span class="n">Facebook</span><span class="p">.</span><span class="n">Unity</span><span class="p">.</span><span class="n">AccessToken</span><span class="p">.</span><span class="n">CurrentAccessToken</span><span class="p">.</span><span class="n">TokenString</span><span class="p">;</span>

    <span class="kt">var</span> <span class="n">message</span> <span class="p">=</span> <span class="n">NAuthenticateMessage</span><span class="p">.</span><span class="n">Facebook</span><span class="p">(</span><span class="n">oauthToken</span><span class="p">);</span>
    <span class="n">client</span><span class="p">.</span><span class="n">Login</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">sessionHandler</span><span class="p">,</span> <span class="p">(</span><span class="n">INError</span> <span class="n">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">err</span><span class="p">.</span><span class="n">Code</span> <span class="p">==</span> <span class="n">ErrorCode</span><span class="p">.</span><span class="n">UserNotFound</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">client</span><span class="p">.</span><span class="n">Register</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">sessionHandler</span><span class="p">,</span> <span class="p">(</span><span class="n">INError</span> <span class="n">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
          <span class="n">Debug</span><span class="p">.</span><span class="n">LogErrorFormat</span><span class="p">(</span><span class="s">&quot;Error: code &#39;{0}&#39; with &#39;{1}&#39;.&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
        <span class="p">});</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">Debug</span><span class="p">.</span><span class="n">LogErrorFormat</span><span class="p">(</span><span class="s">&quot;Error: code &#39;{0}&#39; with &#39;{1}&#39;.&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// you must call FB.Init as early as possible at startup.</span>
<span class="k">if</span> <span class="p">(!</span><span class="n">FB</span><span class="p">.</span><span class="n">IsInitialized</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">FB</span><span class="p">.</span><span class="n">Init</span><span class="p">(</span><span class="n">initCallback</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-3-swift">
            <div class="codehilite"><pre><span></span><span class="kd">let</span> <span class="nv">oauthToken</span> <span class="p">=</span> <span class="s">&quot;...&quot;</span>

<span class="kd">let</span> <span class="nv">message</span> <span class="p">=</span> <span class="n">AuthenticateMessage</span><span class="p">(</span><span class="n">facebook</span><span class="p">:</span> <span class="n">oauthToken</span><span class="p">)</span>
<span class="n">client</span><span class="p">.</span><span class="n">register</span><span class="p">(</span><span class="n">with</span><span class="p">:</span> <span class="n">message</span><span class="p">).</span><span class="n">then</span> <span class="p">{</span> <span class="n">session</span> <span class="k">in</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Session: %@&quot;</span><span class="p">,</span> <span class="n">session</span><span class="p">.</span><span class="n">token</span><span class="p">)</span>
<span class="p">}.</span><span class="k">catch</span> <span class="p">{</span> <span class="n">err</span> <span class="k">in</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Error %@ : %@&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">,</span> <span class="p">(</span><span class="n">err</span> <span class="k">as</span><span class="p">!</span> <span class="n">NakamaError</span><span class="p">).</span><span class="n">message</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-3-js">
            <div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">oauthToken</span> <span class="o">=</span> <span class="s2">&quot;...&quot;</span>

<span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="nx">nakamajs</span><span class="p">.</span><span class="nx">AuthenticateRequest</span><span class="p">.</span><span class="nx">facebook</span><span class="p">(</span><span class="nx">oauthToken</span><span class="p">);</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="nx">message</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">session</span><span class="p">){</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;session: %o&quot;</span><span class="p">,</span> <span class="nx">session</span><span class="p">);</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Could not login: %o&quot;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

        </div>
    
        </div>
    
                </div>
                    </p>
<p>You can add a button to your UI to login with Facebook.</p>
<div class="codehilite"><pre><span></span><span class="n">Action</span><span class="p">&lt;</span><span class="n">INSession</span><span class="p">&gt;</span> <span class="n">sessionHandler</span> <span class="p">=</span> <span class="k">delegate</span><span class="p">(</span><span class="n">INSession</span> <span class="n">session</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">Debug</span><span class="p">.</span><span class="n">LogFormat</span><span class="p">(</span><span class="s">&quot;Session: &#39;{0}&#39;.&quot;</span><span class="p">,</span> <span class="n">session</span><span class="p">.</span><span class="n">Token</span><span class="p">);</span>
  <span class="n">client</span><span class="p">.</span><span class="n">Connect</span><span class="p">(</span><span class="n">session</span><span class="p">);</span>
<span class="p">};</span>

<span class="n">FB</span><span class="p">.</span><span class="n">Login</span><span class="p">(</span><span class="s">&quot;email&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">ILoginResult</span> <span class="n">result</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">FB</span><span class="p">.</span><span class="n">IsLoggedIn</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">var</span> <span class="n">oauthToken</span> <span class="p">=</span> <span class="n">Facebook</span><span class="p">.</span><span class="n">Unity</span><span class="p">.</span><span class="n">AccessToken</span><span class="p">.</span><span class="n">CurrentAccessToken</span><span class="p">.</span><span class="n">TokenString</span><span class="p">;</span>

    <span class="kt">var</span> <span class="n">message</span> <span class="p">=</span> <span class="n">NAuthenticateMessage</span><span class="p">.</span><span class="n">Facebook</span><span class="p">(</span><span class="n">oauthToken</span><span class="p">);</span>
    <span class="n">client</span><span class="p">.</span><span class="n">Login</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">sessionHandler</span><span class="p">,</span> <span class="p">(</span><span class="n">INError</span> <span class="n">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">err</span><span class="p">.</span><span class="n">Code</span> <span class="p">==</span> <span class="n">ErrorCode</span><span class="p">.</span><span class="n">UserNotFound</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">client</span><span class="p">.</span><span class="n">Register</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">sessionHandler</span><span class="p">,</span> <span class="p">(</span><span class="n">INError</span> <span class="n">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
          <span class="n">Debug</span><span class="p">.</span><span class="n">LogErrorFormat</span><span class="p">(</span><span class="s">&quot;Error: code &#39;{0}&#39; with &#39;{1}&#39;.&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
        <span class="p">});</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">Debug</span><span class="p">.</span><span class="n">LogErrorFormat</span><span class="p">(</span><span class="s">&quot;Error: code &#39;{0}&#39; with &#39;{1}&#39;.&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">});</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">Debug</span><span class="p">.</span><span class="n">LogErrorFormat</span><span class="p">(</span><span class="s">&quot;Facebook login failed got &#39;{0}&#39;.&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">.</span><span class="n">Error</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>


<h4 id="google">Google<a class="headerlink" href="#google" title="Permanent link">&para;</a></h4>
<p>Similar to Facebook for register and login you should use one of Google's client SDKs.</p>
<p>
                <div class="code-nav-container">
                    
        <ul class="nav nav-tabs">
            
        <li class="nav-item active">
            <a href="#tab-4-csharp" aria-controls="tab-4-csharp" role="tab" data-toggle="tab" data-lang="csharp">Unity</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-4-java" aria-controls="tab-4-java" role="tab" data-toggle="tab" data-lang="java">Android/Java</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-4-swift" aria-controls="tab-4-swift" role="tab" data-toggle="tab" data-lang="swift">Swift</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-4-js" aria-controls="tab-4-js" role="tab" data-toggle="tab" data-lang="js">Javascript</a>
        </li>
    
        </ul>
    
        <div class="tab-content">
            
        <div role="tabpanel" class="tab-pane active" id="tab-4-csharp">
            <div class="codehilite"><pre><span></span><span class="kt">string</span> <span class="n">oauthToken</span> <span class="p">=</span> <span class="s">&quot;...&quot;</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">message</span> <span class="p">=</span> <span class="n">NAuthenticateMessage</span><span class="p">.</span><span class="n">Google</span><span class="p">(</span><span class="n">oauthToken</span><span class="p">);</span>
<span class="n">client</span><span class="p">.</span><span class="n">Register</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="p">(</span><span class="n">INSession</span> <span class="n">session</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="n">Debug</span><span class="p">.</span><span class="n">LogFormat</span><span class="p">(</span><span class="s">&quot;Session: &#39;{0}&#39;.&quot;</span><span class="p">,</span> <span class="n">session</span><span class="p">.</span><span class="n">Token</span><span class="p">);</span>
<span class="p">},</span> <span class="p">(</span><span class="n">INError</span> <span class="n">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="n">Debug</span><span class="p">.</span><span class="n">LogErrorFormat</span><span class="p">(</span><span class="s">&quot;Error: code &#39;{0}&#39; with &#39;{1}&#39;.&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
<span class="p">});</span>
<span class="c1">// Use client.Login(...) after register.</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-4-java">
            <div class="codehilite"><pre><span></span><span class="n">String</span> <span class="n">oauthToken</span> <span class="o">=</span> <span class="s">&quot;...&quot;</span><span class="o">;</span>

<span class="n">AuthenticateMessage</span> <span class="n">message</span> <span class="o">=</span> <span class="n">AuthenticateMessage</span><span class="o">.</span><span class="na">Builder</span><span class="o">.</span><span class="na">google</span><span class="o">(</span><span class="n">oauthToken</span><span class="o">);</span>
<span class="n">Deferred</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">&gt;</span> <span class="n">deferred</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
<span class="n">deferred</span><span class="o">.</span><span class="na">addCallback</span><span class="o">(</span><span class="k">new</span> <span class="n">Callback</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">,</span> <span class="n">Session</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="n">Session</span> <span class="nf">call</span><span class="o">(</span><span class="n">Session</span> <span class="n">session</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Session: &#39;%s&#39;&quot;</span><span class="o">,</span> <span class="n">session</span><span class="o">.</span><span class="na">getToken</span><span class="o">());</span>
    <span class="k">return</span> <span class="n">session</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}).</span><span class="na">addErrback</span><span class="o">(</span><span class="k">new</span> <span class="n">Callback</span><span class="o">&lt;</span><span class="n">Error</span><span class="o">,</span> <span class="n">Error</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="n">Error</span> <span class="nf">call</span><span class="o">(</span><span class="n">Error</span> <span class="n">err</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Error(&#39;%s&#39;, &#39;%s&#39;)&quot;</span><span class="o">,</span> <span class="n">err</span><span class="o">.</span><span class="na">getCode</span><span class="o">(),</span> <span class="n">err</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
    <span class="k">return</span> <span class="n">err</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">});</span>
<span class="c1">// Use client.login(...) after register.</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-4-swift">
            <div class="codehilite"><pre><span></span><span class="kd">let</span> <span class="nv">oauthToken</span> <span class="p">=</span> <span class="s">&quot;...&quot;</span>

<span class="kd">let</span> <span class="nv">message</span> <span class="p">=</span> <span class="n">AuthenticateMessage</span><span class="p">(</span><span class="n">google</span><span class="p">:</span> <span class="n">oauthToken</span><span class="p">)</span>
<span class="n">client</span><span class="p">.</span><span class="n">register</span><span class="p">(</span><span class="n">with</span><span class="p">:</span> <span class="n">message</span><span class="p">).</span><span class="n">then</span> <span class="p">{</span> <span class="n">session</span> <span class="k">in</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Session: %@&quot;</span><span class="p">,</span> <span class="n">session</span><span class="p">.</span><span class="n">token</span><span class="p">)</span>
<span class="p">}.</span><span class="k">catch</span> <span class="p">{</span> <span class="n">err</span> <span class="k">in</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Error %@ : %@&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">,</span> <span class="p">(</span><span class="n">err</span> <span class="k">as</span><span class="p">!</span> <span class="n">NakamaError</span><span class="p">).</span><span class="n">message</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-4-js">
            <div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">oauthToken</span> <span class="o">=</span> <span class="s2">&quot;...&quot;</span>

<span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="nx">nakamajs</span><span class="p">.</span><span class="nx">AuthenticateRequest</span><span class="p">.</span><span class="nx">google</span><span class="p">(</span><span class="nx">oauthToken</span><span class="p">);</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="nx">message</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">session</span><span class="p">){</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;session: %o&quot;</span><span class="p">,</span> <span class="nx">session</span><span class="p">);</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Could not login: %o&quot;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

        </div>
    
        </div>
    
                </div>
                    </p>
<h4 id="game-center">Game Center<a class="headerlink" href="#game-center" title="Permanent link">&para;</a></h4>
<p>Apple devices have builtin authentication which can be done without user interaction through Game Center. The register or login process is a little complicated because of how Apple's services work.</p>
<p>
                <div class="code-nav-container">
                    
        <ul class="nav nav-tabs">
            
        <li class="nav-item active">
            <a href="#tab-5-csharp" aria-controls="tab-5-csharp" role="tab" data-toggle="tab" data-lang="csharp">Unity</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-5-swift" aria-controls="tab-5-swift" role="tab" data-toggle="tab" data-lang="swift">Swift</a>
        </li>
    
        </ul>
    
        <div class="tab-content">
            
        <div role="tabpanel" class="tab-pane active" id="tab-5-csharp">
            <div class="codehilite"><pre><span></span><span class="c1">// You&#39;ll need to use native code (Obj-C) with Unity.</span>
<span class="c1">// The &quot;UnityEngine.SocialPlatforms.GameCenter&quot; doesn&#39;t give enough information</span>
<span class="c1">// to enable authentication.</span>

<span class="c1">// We recommend you use a library which handles native Game Center auth like</span>
<span class="c1">// https://github.com/desertkun/GameCenterAuth</span>

<span class="kt">string</span> <span class="n">playerId</span> <span class="p">=</span> <span class="s">&quot;...&quot;</span><span class="p">;</span>
<span class="kt">string</span> <span class="n">bundleId</span> <span class="p">=</span> <span class="s">&quot;...&quot;</span><span class="p">;</span>
<span class="kt">string</span> <span class="n">base64salt</span> <span class="p">=</span> <span class="s">&quot;...&quot;</span><span class="p">;</span>
<span class="kt">string</span> <span class="n">base64signature</span> <span class="p">=</span> <span class="s">&quot;...&quot;</span><span class="p">;</span>
<span class="kt">string</span> <span class="n">publicKeyUrl</span> <span class="p">=</span> <span class="s">&quot;...&quot;</span><span class="p">;</span>
<span class="kt">long</span> <span class="n">timestamp</span> <span class="p">=</span> <span class="m">0L</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">message</span> <span class="p">=</span> <span class="n">NAuthenticateMessage</span><span class="p">.</span><span class="n">GameCenter</span><span class="p">(</span>
    <span class="n">playerId</span><span class="p">,</span> <span class="n">bundleId</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">,</span> <span class="n">base64salt</span><span class="p">,</span> <span class="n">base64signature</span><span class="p">,</span> <span class="n">publicKeyUrl</span><span class="p">);</span>
<span class="n">client</span><span class="p">.</span><span class="n">Register</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="p">(</span><span class="n">INSession</span> <span class="n">session</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="n">Debug</span><span class="p">.</span><span class="n">LogFormat</span><span class="p">(</span><span class="s">&quot;Session: &#39;{0}&#39;.&quot;</span><span class="p">,</span> <span class="n">session</span><span class="p">.</span><span class="n">Token</span><span class="p">);</span>
<span class="p">},</span> <span class="p">(</span><span class="n">INError</span> <span class="n">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="n">Debug</span><span class="p">.</span><span class="n">LogErrorFormat</span><span class="p">(</span><span class="s">&quot;Error: code &#39;{0}&#39; with &#39;{1}&#39;.&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
<span class="p">});</span>
<span class="c1">// Use client.Login(...) after register.</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-5-swift">
            <div class="codehilite"><pre><span></span><span class="kd">let</span> <span class="nv">playerID</span> <span class="p">:</span> <span class="nb">String</span> <span class="p">=</span> <span class="s">&quot;...&quot;</span>
<span class="kd">let</span> <span class="nv">bundleID</span> <span class="p">:</span> <span class="nb">String</span> <span class="p">=</span> <span class="s">&quot;...&quot;</span>
<span class="kd">let</span> <span class="nv">base64salt</span> <span class="p">:</span> <span class="nb">String</span> <span class="p">=</span> <span class="s">&quot;...&quot;</span>
<span class="kd">let</span> <span class="nv">base64signature</span> <span class="p">:</span> <span class="nb">String</span> <span class="p">=</span> <span class="s">&quot;...&quot;</span>
<span class="kd">let</span> <span class="nv">publicKeyURL</span> <span class="p">:</span> <span class="nb">String</span> <span class="p">=</span> <span class="s">&quot;...&quot;</span>
<span class="kd">let</span> <span class="nv">timestamp</span> <span class="p">:</span> <span class="nb">Int</span> <span class="p">=</span> <span class="mi">0</span>

<span class="kd">let</span> <span class="nv">message</span> <span class="p">=</span> <span class="n">AuthenticateMessage</span><span class="p">(</span>
    <span class="n">gamecenter</span><span class="p">:</span> <span class="n">bundleID</span><span class="p">,</span> <span class="n">playerID</span><span class="p">:</span> <span class="n">playerID</span><span class="p">,</span> <span class="n">publicKeyURL</span><span class="p">:</span> <span class="n">publicKeyURL</span><span class="p">,</span>
    <span class="n">salt</span><span class="p">:</span> <span class="n">base64salt</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">,</span> <span class="n">signature</span><span class="p">:</span> <span class="n">base64signature</span><span class="p">)</span>
<span class="n">client</span><span class="p">.</span><span class="n">register</span><span class="p">(</span><span class="n">with</span><span class="p">:</span> <span class="n">message</span><span class="p">).</span><span class="n">then</span> <span class="p">{</span> <span class="n">session</span> <span class="k">in</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Session: %@&quot;</span><span class="p">,</span> <span class="n">session</span><span class="p">.</span><span class="n">token</span><span class="p">)</span>
<span class="p">}.</span><span class="k">catch</span> <span class="p">{</span> <span class="n">err</span> <span class="k">in</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Error %@ : %@&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">,</span> <span class="p">(</span><span class="n">err</span> <span class="k">as</span><span class="p">!</span> <span class="n">NakamaError</span><span class="p">).</span><span class="n">message</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// Use client.login(...) after register.</span>
</pre></div>

        </div>
    
        </div>
    
                </div>
                    </p>
<h4 id="steam">Steam<a class="headerlink" href="#steam" title="Permanent link">&para;</a></h4>
<p>Steam requires you to configure the server before you can register a user.</p>
<div class="admonition note">
<p class="admonition-title">Server configuration</p>
<p>Have a look at the <a href="../install-configuration/">configuration</a> section for what settings you need for the server.</p>
</div>
<p>
                <div class="code-nav-container">
                    
        <ul class="nav nav-tabs">
            
        <li class="nav-item active">
            <a href="#tab-6-csharp" aria-controls="tab-6-csharp" role="tab" data-toggle="tab" data-lang="csharp">Unity</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-6-java" aria-controls="tab-6-java" role="tab" data-toggle="tab" data-lang="java">Android/Java</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-6-swift" aria-controls="tab-6-swift" role="tab" data-toggle="tab" data-lang="swift">Swift</a>
        </li>
    
        </ul>
    
        <div class="tab-content">
            
        <div role="tabpanel" class="tab-pane active" id="tab-6-csharp">
            <div class="codehilite"><pre><span></span><span class="kt">string</span> <span class="n">sessionToken</span> <span class="p">=</span> <span class="s">&quot;...&quot;</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">message</span> <span class="p">=</span> <span class="n">NAuthenticateMessage</span><span class="p">.</span><span class="n">Steam</span><span class="p">(</span><span class="n">sessionToken</span><span class="p">);</span>
<span class="n">client</span><span class="p">.</span><span class="n">Register</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="p">(</span><span class="n">INSession</span> <span class="n">session</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="n">Debug</span><span class="p">.</span><span class="n">LogFormat</span><span class="p">(</span><span class="s">&quot;Session: &#39;{0}&#39;.&quot;</span><span class="p">,</span> <span class="n">session</span><span class="p">.</span><span class="n">Token</span><span class="p">);</span>
<span class="p">},</span> <span class="p">(</span><span class="n">INError</span> <span class="n">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="n">Debug</span><span class="p">.</span><span class="n">LogErrorFormat</span><span class="p">(</span><span class="s">&quot;Error: code &#39;{0}&#39; with &#39;{1}&#39;.&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
<span class="p">});</span>
<span class="c1">// Use client.Login(...) after register.</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-6-java">
            <div class="codehilite"><pre><span></span><span class="n">String</span> <span class="n">sessionToken</span> <span class="o">=</span> <span class="s">&quot;...&quot;</span><span class="o">;</span>

<span class="n">AuthenticateMessage</span> <span class="n">message</span> <span class="o">=</span> <span class="n">AuthenticateMessage</span><span class="o">.</span><span class="na">Builder</span><span class="o">.</span><span class="na">steam</span><span class="o">(</span><span class="n">sessionToken</span><span class="o">);</span>
<span class="n">Deferred</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">&gt;</span> <span class="n">deferred</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
<span class="n">deferred</span><span class="o">.</span><span class="na">addCallback</span><span class="o">(</span><span class="k">new</span> <span class="n">Callback</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">,</span> <span class="n">Session</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="n">Session</span> <span class="nf">call</span><span class="o">(</span><span class="n">Session</span> <span class="n">session</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Session: &#39;%s&#39;&quot;</span><span class="o">,</span> <span class="n">session</span><span class="o">.</span><span class="na">getToken</span><span class="o">());</span>
    <span class="k">return</span> <span class="n">session</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}).</span><span class="na">addErrback</span><span class="o">(</span><span class="k">new</span> <span class="n">Callback</span><span class="o">&lt;</span><span class="n">Error</span><span class="o">,</span> <span class="n">Error</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="n">Error</span> <span class="nf">call</span><span class="o">(</span><span class="n">Error</span> <span class="n">err</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Error(&#39;%s&#39;, &#39;%s&#39;)&quot;</span><span class="o">,</span> <span class="n">err</span><span class="o">.</span><span class="na">getCode</span><span class="o">(),</span> <span class="n">err</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
    <span class="k">return</span> <span class="n">err</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">});</span>
<span class="c1">// Use client.login(...) after register.</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-6-swift">
            <div class="codehilite"><pre><span></span><span class="kd">let</span> <span class="nv">sessionToken</span> <span class="p">=</span> <span class="s">&quot;...&quot;</span>

<span class="kd">let</span> <span class="nv">message</span> <span class="p">=</span> <span class="n">AuthenticateMessage</span><span class="p">(</span><span class="n">steam</span><span class="p">:</span> <span class="n">sessionToken</span><span class="p">)</span>
<span class="n">client</span><span class="p">.</span><span class="n">register</span><span class="p">(</span><span class="n">with</span><span class="p">:</span> <span class="n">message</span><span class="p">).</span><span class="n">then</span> <span class="p">{</span> <span class="n">session</span> <span class="k">in</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Session: %@&quot;</span><span class="p">,</span> <span class="n">session</span><span class="p">.</span><span class="n">token</span><span class="p">)</span>
<span class="p">}.</span><span class="k">catch</span> <span class="p">{</span> <span class="n">err</span> <span class="k">in</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Error %@ : %@&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">,</span> <span class="p">(</span><span class="n">err</span> <span class="k">as</span><span class="p">!</span> <span class="n">NakamaError</span><span class="p">).</span><span class="n">message</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// Use client.login(...) after register.</span>
</pre></div>

        </div>
    
        </div>
    
                </div>
                    </p>
<h3 id="custom">Custom<a class="headerlink" href="#custom" title="Permanent link">&para;</a></h3>
<p>A custom identifier can be used in a similar way to a device identifier to login or register a user. This option should be used if you have an external or custom user identity service which you want to use. For example EA's Origin service handles accounts which have their own user IDs.</p>
<p>A custom identifier must contain alphanumeric characters with dashes and be between 10 and 60 bytes.</p>
<p>
                <div class="code-nav-container">
                    
        <ul class="nav nav-tabs">
            
        <li class="nav-item active">
            <a href="#tab-7-csharp" aria-controls="tab-7-csharp" role="tab" data-toggle="tab" data-lang="csharp">Unity</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-7-java" aria-controls="tab-7-java" role="tab" data-toggle="tab" data-lang="java">Android/Java</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-7-swift" aria-controls="tab-7-swift" role="tab" data-toggle="tab" data-lang="swift">Swift</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-7-js" aria-controls="tab-7-js" role="tab" data-toggle="tab" data-lang="js">Javascript</a>
        </li>
    
        </ul>
    
        <div class="tab-content">
            
        <div role="tabpanel" class="tab-pane active" id="tab-7-csharp">
            <div class="codehilite"><pre><span></span><span class="c1">// Some id from another service.</span>
<span class="kt">string</span> <span class="n">customId</span> <span class="p">=</span> <span class="s">&quot;a1fca336-7191-11e7-bdab-df34f6f90285&quot;</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">message</span> <span class="p">=</span> <span class="n">NAuthenticateMessage</span><span class="p">.</span><span class="n">Custom</span><span class="p">(</span><span class="n">customId</span><span class="p">);</span>
<span class="n">client</span><span class="p">.</span><span class="n">Register</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="p">(</span><span class="n">INSession</span> <span class="n">session</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="n">Debug</span><span class="p">.</span><span class="n">LogFormat</span><span class="p">(</span><span class="s">&quot;Session: &#39;{0}&#39;.&quot;</span><span class="p">,</span> <span class="n">session</span><span class="p">.</span><span class="n">Token</span><span class="p">);</span>
<span class="p">},</span> <span class="p">(</span><span class="n">INError</span> <span class="n">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="n">Debug</span><span class="p">.</span><span class="n">LogErrorFormat</span><span class="p">(</span><span class="s">&quot;Error: code &#39;{0}&#39; with &#39;{1}&#39;.&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
<span class="p">});</span>
<span class="c1">// Use client.Login(...) after register.</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-7-java">
            <div class="codehilite"><pre><span></span><span class="c1">// Some id from another service.</span>
<span class="n">String</span> <span class="n">customId</span> <span class="o">=</span> <span class="s">&quot;a1fca336-7191-11e7-bdab-df34f6f90285&quot;</span><span class="o">;</span>

<span class="n">AuthenticateMessage</span> <span class="n">message</span> <span class="o">=</span> <span class="n">AuthenticateMessage</span><span class="o">.</span><span class="na">Builder</span><span class="o">.</span><span class="na">google</span><span class="o">(</span><span class="n">customId</span><span class="o">);</span>
<span class="n">Deferred</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">&gt;</span> <span class="n">deferred</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
<span class="n">deferred</span><span class="o">.</span><span class="na">addCallback</span><span class="o">(</span><span class="k">new</span> <span class="n">Callback</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">,</span> <span class="n">Session</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="n">Session</span> <span class="nf">call</span><span class="o">(</span><span class="n">Session</span> <span class="n">session</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Session: &#39;%s&#39;&quot;</span><span class="o">,</span> <span class="n">session</span><span class="o">.</span><span class="na">getToken</span><span class="o">());</span>
    <span class="k">return</span> <span class="n">session</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}).</span><span class="na">addErrback</span><span class="o">(</span><span class="k">new</span> <span class="n">Callback</span><span class="o">&lt;</span><span class="n">Error</span><span class="o">,</span> <span class="n">Error</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="n">Error</span> <span class="nf">call</span><span class="o">(</span><span class="n">Error</span> <span class="n">err</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Error(&#39;%s&#39;, &#39;%s&#39;)&quot;</span><span class="o">,</span> <span class="n">err</span><span class="o">.</span><span class="na">getCode</span><span class="o">(),</span> <span class="n">err</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
    <span class="k">return</span> <span class="n">err</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">});</span>
<span class="c1">// Use client.login(...) after register.</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-7-swift">
            <div class="codehilite"><pre><span></span><span class="c1">// Some id from another service.</span>
<span class="kd">let</span> <span class="nv">customID</span> <span class="p">=</span> <span class="s">&quot;a1fca336-7191-11e7-bdab-df34f6f90285&quot;</span>

<span class="kd">let</span> <span class="nv">message</span> <span class="p">=</span> <span class="n">AuthenticateMessage</span><span class="p">(</span><span class="n">custom</span><span class="p">:</span> <span class="n">customID</span><span class="p">)</span>
<span class="n">client</span><span class="p">.</span><span class="n">register</span><span class="p">(</span><span class="n">with</span><span class="p">:</span> <span class="n">message</span><span class="p">).</span><span class="n">then</span> <span class="p">{</span> <span class="n">session</span> <span class="k">in</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Session: %@&quot;</span><span class="p">,</span> <span class="n">session</span><span class="p">.</span><span class="n">token</span><span class="p">)</span>
<span class="p">}.</span><span class="k">catch</span> <span class="p">{</span> <span class="n">err</span> <span class="k">in</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Error %@ : %@&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">,</span> <span class="p">(</span><span class="n">err</span> <span class="k">as</span><span class="p">!</span> <span class="n">NakamaError</span><span class="p">).</span><span class="n">message</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// Use client.login(...) after register.</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-7-js">
            <div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">customId</span> <span class="o">=</span> <span class="s2">&quot;a1fca336-7191-11e7-bdab-df34f6f90285&quot;</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="nx">nakamajs</span><span class="p">.</span><span class="nx">AuthenticateRequest</span><span class="p">.</span><span class="nx">custom</span><span class="p">(</span><span class="nx">customId</span><span class="p">);</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="nx">message</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">session</span><span class="p">){</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;session: %o&quot;</span><span class="p">,</span> <span class="nx">session</span><span class="p">);</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Could not login: %o&quot;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

        </div>
    
        </div>
    
                </div>
                    </p>
<h2 id="sessions">Sessions<a class="headerlink" href="#sessions" title="Permanent link">&para;</a></h2>
<p>The register and login messages return a session on success. The session contains the current user's ID and handle as well as information on when it was created and when it expires.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can change how long a session token is valid before it expires in the <a href="../install-configuration/">configuration</a> in the server. By default a session is only valid for 60 seconds.</p>
</div>
<p>
                <div class="code-nav-container">
                    
        <ul class="nav nav-tabs">
            
        <li class="nav-item active">
            <a href="#tab-8-csharp" aria-controls="tab-8-csharp" role="tab" data-toggle="tab" data-lang="csharp">Unity</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-8-java" aria-controls="tab-8-java" role="tab" data-toggle="tab" data-lang="java">Android/Java</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-8-swift" aria-controls="tab-8-swift" role="tab" data-toggle="tab" data-lang="swift">Swift</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-8-js" aria-controls="tab-8-js" role="tab" data-toggle="tab" data-lang="js">Javascript</a>
        </li>
    
        </ul>
    
        <div class="tab-content">
            
        <div role="tabpanel" class="tab-pane active" id="tab-8-csharp">
            <div class="codehilite"><pre><span></span><span class="kt">string</span> <span class="n">id</span> <span class="p">=</span> <span class="s">&quot;3e70fd52-7192-11e7-9766-cb3ce5609916&quot;</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">message</span> <span class="p">=</span> <span class="n">NAuthenticateMessage</span><span class="p">.</span><span class="n">Device</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
<span class="n">client</span><span class="p">.</span><span class="n">Login</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="p">(</span><span class="n">INSession</span> <span class="n">session</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kt">var</span> <span class="n">userId</span> <span class="p">=</span> <span class="n">session</span><span class="p">.</span><span class="n">Id</span><span class="p">;</span>
  <span class="n">Debug</span><span class="p">.</span><span class="n">LogFormat</span><span class="p">(</span><span class="s">&quot;Session id &#39;{0}&#39; handle &#39;{1}&#39;.&quot;</span><span class="p">,</span> <span class="n">userId</span><span class="p">,</span> <span class="n">session</span><span class="p">.</span><span class="n">Handle</span><span class="p">);</span>
  <span class="n">Debug</span><span class="p">.</span><span class="n">LogFormat</span><span class="p">(</span><span class="s">&quot;Session expired: {0}&quot;</span><span class="p">,</span> <span class="n">session</span><span class="p">.</span><span class="n">HasExpired</span><span class="p">(</span><span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">));</span>
<span class="p">},</span> <span class="p">(</span><span class="n">INError</span> <span class="n">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="n">Debug</span><span class="p">.</span><span class="n">LogErrorFormat</span><span class="p">(</span><span class="s">&quot;Error: code &#39;{0}&#39; with &#39;{1}&#39;.&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-8-java">
            <div class="codehilite"><pre><span></span><span class="n">String</span> <span class="n">id</span> <span class="o">=</span> <span class="s">&quot;3e70fd52-7192-11e7-9766-cb3ce5609916&quot;</span><span class="o">;</span>
<span class="n">CollatedMessage</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">&gt;</span> <span class="n">message</span> <span class="o">=</span> <span class="n">AuthenticateMessage</span><span class="o">.</span><span class="na">Builder</span><span class="o">.</span><span class="na">device</span><span class="o">(</span><span class="n">id</span><span class="o">);</span>
<span class="n">Deferred</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">&gt;</span> <span class="n">deferred</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">login</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
<span class="n">deferred</span><span class="o">.</span><span class="na">addCallback</span><span class="o">(</span><span class="k">new</span> <span class="n">Callback</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">,</span> <span class="n">Session</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="n">Session</span> <span class="nf">call</span><span class="o">(</span><span class="n">Session</span> <span class="n">session</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="n">String</span> <span class="n">userId</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">(</span><span class="n">session</span><span class="o">.</span><span class="na">getId</span><span class="o">());</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Session id &#39;%s&#39; handle &#39;%s&#39;&quot;</span><span class="o">,</span> <span class="n">userId</span><span class="o">,</span> <span class="n">session</span><span class="o">.</span><span class="na">getHandle</span><span class="o">());</span>
    <span class="kt">long</span> <span class="n">now</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">();</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Session expired: &#39;%s&#39;&quot;</span><span class="o">,</span> <span class="n">session</span><span class="o">.</span><span class="na">IsExpired</span><span class="o">(</span><span class="n">now</span><span class="o">));</span>
    <span class="k">return</span> <span class="n">session</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}).</span><span class="na">addErrback</span><span class="o">(</span><span class="k">new</span> <span class="n">Callback</span><span class="o">&lt;</span><span class="n">Error</span><span class="o">,</span> <span class="n">Error</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="n">Error</span> <span class="nf">call</span><span class="o">(</span><span class="n">Error</span> <span class="n">err</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Error(&#39;%s&#39;, &#39;%s&#39;)&quot;</span><span class="o">,</span> <span class="n">err</span><span class="o">.</span><span class="na">getCode</span><span class="o">(),</span> <span class="n">err</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
    <span class="k">return</span> <span class="n">err</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">});</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-8-swift">
            <div class="codehilite"><pre><span></span><span class="kd">let</span> <span class="nv">id</span> <span class="p">=</span> <span class="s">&quot;3e70fd52-7192-11e7-9766-cb3ce5609916&quot;</span>
<span class="kd">let</span> <span class="nv">message</span> <span class="p">=</span> <span class="n">AuthenticateMessage</span><span class="p">(</span><span class="n">device</span><span class="p">:</span> <span class="n">id</span><span class="p">)</span>
<span class="n">client</span><span class="p">.</span><span class="n">login</span><span class="p">(</span><span class="n">with</span><span class="p">:</span> <span class="n">message</span><span class="p">).</span><span class="n">then</span> <span class="p">{</span> <span class="n">session</span> <span class="k">in</span>
  <span class="kd">let</span> <span class="nv">expired</span> <span class="p">=</span> <span class="n">session</span><span class="p">.</span><span class="n">isExpired</span><span class="p">(</span><span class="n">currentTimeSince1970</span><span class="p">:</span> <span class="n">Date</span><span class="p">().</span><span class="n">timeIntervalSince1970</span><span class="p">)</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Session id &#39;%@&#39; handle &#39;%@&#39;.&quot;</span><span class="p">,</span> <span class="n">session</span><span class="p">.</span><span class="n">userID</span><span class="p">,</span> <span class="n">session</span><span class="p">.</span><span class="n">handle</span><span class="p">)</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Session expired: &#39;%@&#39;&quot;</span><span class="p">,</span> <span class="n">expired</span><span class="p">)</span>
<span class="p">}.</span><span class="k">catch</span> <span class="p">{</span> <span class="n">err</span> <span class="k">in</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Error %@ : %@&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">,</span> <span class="p">(</span><span class="n">err</span> <span class="k">as</span><span class="p">!</span> <span class="n">NakamaError</span><span class="p">).</span><span class="n">message</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-8-js">
            <div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="s2">&quot;3e70fd52-7192-11e7-9766-cb3ce5609916&quot;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="nx">nakamajs</span><span class="p">.</span><span class="nx">AuthenticateRequest</span><span class="p">.</span><span class="nx">device</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="nx">message</span><span class="p">).</span><span class="nx">then</span> <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">session</span><span class="p">){</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Session id &#39;%o&#39;, handle &#39;%o.&quot;</span><span class="p">,</span> <span class="nx">session</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="nx">session</span><span class="p">.</span><span class="nx">handle</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Session expired: %o&quot;</span><span class="p">,</span> <span class="nx">session</span><span class="p">.</span><span class="nx">isexpired</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">()));</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Could not login: %o&quot;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

        </div>
    
        </div>
    
                </div>
                    </p>
<h3 id="connect">Connect<a class="headerlink" href="#connect" title="Permanent link">&para;</a></h3>
<p>With a session you can connect with the server and send messages. Most of our clients do not auto-reconnect for you so you should handle it with your own code.</p>
<p>You can only send messages to the server once you've connected a client.</p>
<p>
                <div class="code-nav-container">
                    
        <ul class="nav nav-tabs">
            
        <li class="nav-item active">
            <a href="#tab-9-csharp" aria-controls="tab-9-csharp" role="tab" data-toggle="tab" data-lang="csharp">Unity</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-9-java" aria-controls="tab-9-java" role="tab" data-toggle="tab" data-lang="java">Android/Java</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-9-swift" aria-controls="tab-9-swift" role="tab" data-toggle="tab" data-lang="swift">Swift</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-9-js" aria-controls="tab-9-js" role="tab" data-toggle="tab" data-lang="js">Javascript</a>
        </li>
    
        </ul>
    
        <div class="tab-content">
            
        <div role="tabpanel" class="tab-pane active" id="tab-9-csharp">
            <div class="codehilite"><pre><span></span><span class="n">INSession</span> <span class="n">session</span> <span class="p">=</span> <span class="n">someSession</span><span class="p">;</span> <span class="c1">// obtained from Register or Login.</span>
<span class="n">client</span><span class="p">.</span><span class="n">Connect</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="p">(</span><span class="kt">bool</span> <span class="n">done</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="n">Debug</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="s">&quot;Successfully connected.&quot;</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-9-java">
            <div class="codehilite"><pre><span></span><span class="n">Session</span> <span class="n">session</span> <span class="o">=</span> <span class="n">someSession</span><span class="o">;</span> <span class="c1">// obtained from register or login.</span>
<span class="n">Deferred</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">&gt;</span> <span class="n">deferred</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">connect</span><span class="o">(</span><span class="n">session</span><span class="o">);</span>
<span class="n">deferred</span><span class="o">.</span><span class="na">addCallback</span><span class="o">(</span><span class="k">new</span> <span class="n">Callback</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">,</span> <span class="n">Session</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="n">Session</span> <span class="nf">call</span><span class="o">(</span><span class="n">Session</span> <span class="n">session</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Successfully connected.&quot;</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">session</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">});</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-9-swift">
            <div class="codehilite"><pre><span></span><span class="kd">let</span> <span class="nv">session</span> <span class="p">:</span> <span class="n">Session</span> <span class="p">=</span> <span class="n">someSession</span> <span class="c1">// obtained from register or login.</span>
<span class="n">client</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">with</span><span class="p">:</span> <span class="n">session</span><span class="p">).</span><span class="n">then</span> <span class="p">{</span> <span class="kc">_</span> <span class="k">in</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Successfully connected.&quot;</span><span class="p">)</span>
<span class="p">});</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-9-js">
            <div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">session</span> <span class="o">=</span> <span class="c1">// obtained from register or login</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="nx">session</span><span class="p">).</span><span class="nx">then</span> <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">session</span><span class="p">){</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Successfully connected.&quot;</span><span class="p">);</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;An error occured: %o&quot;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

        </div>
    
        </div>
    
                </div>
                    </p>
<h2 id="link-or-unlink">Link or unlink<a class="headerlink" href="#link-or-unlink" title="Permanent link">&para;</a></h2>
<p>You can link one or more other login option to the current user. This makes it easy to support multiple logins with each user and easily identify a user across devices.</p>
<p>You can only link device Ids, custom Ids, and social provider IDs which are not already in-use with another user account.</p>
<p>
                <div class="code-nav-container">
                    
        <ul class="nav nav-tabs">
            
        <li class="nav-item active">
            <a href="#tab-10-csharp" aria-controls="tab-10-csharp" role="tab" data-toggle="tab" data-lang="csharp">Unity</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-10-java" aria-controls="tab-10-java" role="tab" data-toggle="tab" data-lang="java">Android/Java</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-10-swift" aria-controls="tab-10-swift" role="tab" data-toggle="tab" data-lang="swift">Swift</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-10-js" aria-controls="tab-10-js" role="tab" data-toggle="tab" data-lang="js">Javascript</a>
        </li>
    
        </ul>
    
        <div class="tab-content">
            
        <div role="tabpanel" class="tab-pane active" id="tab-10-csharp">
            <div class="codehilite"><pre><span></span><span class="kt">string</span> <span class="n">id</span> <span class="p">=</span> <span class="s">&quot;062b0916-7196-11e7-8371-9fcee9f0b20c&quot;</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">message</span> <span class="p">=</span> <span class="n">NSelfLinkMessage</span><span class="p">.</span><span class="n">Device</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
<span class="n">client</span><span class="p">.</span><span class="n">Send</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="p">(</span><span class="kt">bool</span> <span class="n">done</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="n">Debug</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="s">&quot;Successfully linked device ID to current user.&quot;</span><span class="p">);</span>
<span class="p">},</span> <span class="p">(</span><span class="n">INError</span> <span class="n">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="n">Debug</span><span class="p">.</span><span class="n">LogErrorFormat</span><span class="p">(</span><span class="s">&quot;Error: code &#39;{0}&#39; with &#39;{1}&#39;.&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-10-java">
            <div class="codehilite"><pre><span></span><span class="n">String</span> <span class="n">id</span> <span class="o">=</span> <span class="s">&quot;062b0916-7196-11e7-8371-9fcee9f0b20c&quot;</span><span class="o">;</span>

<span class="n">CollatedMessage</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">&gt;</span> <span class="n">message</span> <span class="o">=</span> <span class="n">SelfLinkMessage</span><span class="o">.</span><span class="na">Builder</span><span class="o">.</span><span class="na">device</span><span class="o">(</span><span class="n">id</span><span class="o">);</span>
<span class="n">Deferred</span><span class="o">&lt;</span><span class="n">Boolean</span><span class="o">&gt;</span> <span class="n">deferred</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
<span class="n">deferred</span><span class="o">.</span><span class="na">addCallback</span><span class="o">(</span><span class="k">new</span> <span class="n">Callback</span><span class="o">&lt;</span><span class="n">Boolean</span><span class="o">,</span> <span class="n">Boolean</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="n">Boolean</span> <span class="nf">call</span><span class="o">(</span><span class="n">Boolean</span> <span class="n">done</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Successfully linked device ID to current user.&quot;</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">done</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}).</span><span class="na">addErrback</span><span class="o">(</span><span class="k">new</span> <span class="n">Callback</span><span class="o">&lt;</span><span class="n">Error</span><span class="o">,</span> <span class="n">Error</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="n">Error</span> <span class="nf">call</span><span class="o">(</span><span class="n">Error</span> <span class="n">err</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Error(&#39;%s&#39;, &#39;%s&#39;)&quot;</span><span class="o">,</span> <span class="n">err</span><span class="o">.</span><span class="na">getCode</span><span class="o">(),</span> <span class="n">err</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
    <span class="k">return</span> <span class="n">err</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">});</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-10-swift">
            <div class="codehilite"><pre><span></span><span class="kd">let</span> <span class="nv">id</span> <span class="p">=</span> <span class="s">&quot;062b0916-7196-11e7-8371-9fcee9f0b20c&quot;</span>

<span class="kd">var</span> <span class="nv">message</span> <span class="p">=</span> <span class="n">SelfLinkMessage</span><span class="p">(</span><span class="n">device</span><span class="p">:</span> <span class="n">id</span><span class="p">);</span>
<span class="n">client</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">with</span><span class="p">:</span> <span class="n">message</span><span class="p">).</span><span class="n">then</span> <span class="p">{</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Successfully linked device ID to current user.&quot;</span><span class="p">)</span>
<span class="p">}.</span><span class="k">catch</span> <span class="p">{</span> <span class="n">err</span> <span class="k">in</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Error %@ : %@&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">,</span> <span class="p">(</span><span class="n">err</span> <span class="k">as</span><span class="p">!</span> <span class="n">NakamaError</span><span class="p">).</span><span class="n">message</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-10-js">
            <div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="s2">&quot;062b0916-7196-11e7-8371-9fcee9f0b20c&quot;</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">nakamajs</span><span class="p">.</span><span class="nx">LinkRequest</span><span class="p">()</span>
<span class="nx">message</span><span class="p">.</span><span class="nx">device</span> <span class="o">=</span> <span class="nx">id</span><span class="p">;</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">session</span><span class="p">).</span><span class="nx">then</span> <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">session</span><span class="p">){</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Successfully linked device ID to current user.&quot;</span><span class="p">);</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;An error occured: %o&quot;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

        </div>
    
        </div>
    
                </div>
                    </p>
<p>You can unlink any linked login options for the current user.</p>
<p>
                <div class="code-nav-container">
                    
        <ul class="nav nav-tabs">
            
        <li class="nav-item active">
            <a href="#tab-11-csharp" aria-controls="tab-11-csharp" role="tab" data-toggle="tab" data-lang="csharp">Unity</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-11-java" aria-controls="tab-11-java" role="tab" data-toggle="tab" data-lang="java">Android/Java</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-11-swift" aria-controls="tab-11-swift" role="tab" data-toggle="tab" data-lang="swift">Swift</a>
        </li>
    
        <li class="nav-item ">
            <a href="#tab-11-js" aria-controls="tab-11-js" role="tab" data-toggle="tab" data-lang="js">Javascript</a>
        </li>
    
        </ul>
    
        <div class="tab-content">
            
        <div role="tabpanel" class="tab-pane active" id="tab-11-csharp">
            <div class="codehilite"><pre><span></span><span class="kt">string</span> <span class="n">id</span> <span class="p">=</span> <span class="s">&quot;062b0916-7196-11e7-8371-9fcee9f0b20c&quot;</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">message</span> <span class="p">=</span> <span class="n">NSelfUnlinkMessage</span><span class="p">.</span><span class="n">Device</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
<span class="n">client</span><span class="p">.</span><span class="n">Send</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="p">(</span><span class="kt">bool</span> <span class="n">done</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="n">Debug</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="s">&quot;Successfully unlinked device ID from current user.&quot;</span><span class="p">);</span>
<span class="p">},</span> <span class="p">(</span><span class="n">INError</span> <span class="n">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="n">Debug</span><span class="p">.</span><span class="n">LogErrorFormat</span><span class="p">(</span><span class="s">&quot;Error: code &#39;{0}&#39; with &#39;{1}&#39;.&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span> <span class="n">err</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-11-java">
            <div class="codehilite"><pre><span></span><span class="n">String</span> <span class="n">id</span> <span class="o">=</span> <span class="s">&quot;062b0916-7196-11e7-8371-9fcee9f0b20c&quot;</span><span class="o">;</span>

<span class="n">CollatedMessage</span><span class="o">&lt;</span><span class="n">Session</span><span class="o">&gt;</span> <span class="n">message</span> <span class="o">=</span> <span class="n">SelfUnlinkMessage</span><span class="o">.</span><span class="na">Builder</span><span class="o">.</span><span class="na">device</span><span class="o">(</span><span class="n">id</span><span class="o">);</span>
<span class="n">Deferred</span><span class="o">&lt;</span><span class="n">Boolean</span><span class="o">&gt;</span> <span class="n">deferred</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
<span class="n">deferred</span><span class="o">.</span><span class="na">addCallback</span><span class="o">(</span><span class="k">new</span> <span class="n">Callback</span><span class="o">&lt;</span><span class="n">Boolean</span><span class="o">,</span> <span class="n">Boolean</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="n">Boolean</span> <span class="nf">call</span><span class="o">(</span><span class="n">Boolean</span> <span class="n">done</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Successfully unlinked device ID from current user.&quot;</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">done</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}).</span><span class="na">addErrback</span><span class="o">(</span><span class="k">new</span> <span class="n">Callback</span><span class="o">&lt;</span><span class="n">Error</span><span class="o">,</span> <span class="n">Error</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="n">Error</span> <span class="nf">call</span><span class="o">(</span><span class="n">Error</span> <span class="n">err</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Error(&#39;%s&#39;, &#39;%s&#39;)&quot;</span><span class="o">,</span> <span class="n">err</span><span class="o">.</span><span class="na">getCode</span><span class="o">(),</span> <span class="n">err</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
    <span class="k">return</span> <span class="n">err</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">});</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-11-swift">
            <div class="codehilite"><pre><span></span><span class="kd">let</span> <span class="nv">id</span> <span class="p">=</span> <span class="s">&quot;062b0916-7196-11e7-8371-9fcee9f0b20c&quot;</span>

<span class="kd">var</span> <span class="nv">message</span> <span class="p">=</span> <span class="n">SelfUnlinkMessage</span><span class="p">(</span><span class="n">device</span><span class="p">:</span> <span class="n">id</span><span class="p">);</span>
<span class="n">client</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">with</span><span class="p">:</span> <span class="n">message</span><span class="p">).</span><span class="n">then</span> <span class="p">{</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Successfully unlinked device ID from current user.&quot;</span><span class="p">)</span>
<span class="p">}.</span><span class="k">catch</span> <span class="p">{</span> <span class="n">err</span> <span class="k">in</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">&quot;Error %@ : %@&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">,</span> <span class="p">(</span><span class="n">err</span> <span class="k">as</span><span class="p">!</span> <span class="n">NakamaError</span><span class="p">).</span><span class="n">message</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

        </div>
    
        <div role="tabpanel" class="tab-pane " id="tab-11-js">
            <div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="s2">&quot;062b0916-7196-11e7-8371-9fcee9f0b20c&quot;</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">nakamajs</span><span class="p">.</span><span class="nx">UnlinkRequest</span><span class="p">()</span>
<span class="nx">message</span><span class="p">.</span><span class="nx">device</span> <span class="o">=</span> <span class="nx">id</span><span class="p">;</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">session</span><span class="p">).</span><span class="nx">then</span> <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">session</span><span class="p">){</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Successfully unlinked device ID from current user.&quot;</span><span class="p">);</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;An error occured: %o&quot;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

        </div>
    
        </div>
    
                </div>
                    </p>
<p>Like with register and login you can link or unlink many different account options.</p>
<table>
<thead>
<tr>
<th>Link</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Custom</td>
<td>A custom identifier from another identity service.</td>
</tr>
<tr>
<td>Device</td>
<td>A unique identifier for a device which belongs to the user.</td>
</tr>
<tr>
<td>Email</td>
<td>An email and password set by the user.</td>
</tr>
<tr>
<td>Facebook</td>
<td>A Facebook social account.</td>
</tr>
<tr>
<td>Game Center</td>
<td>An account from Apple's Game Center service.</td>
</tr>
<tr>
<td>Google</td>
<td>A Google Play social account.</td>
</tr>
<tr>
<td>Steam</td>
<td>An account from the Steam network.</td>
</tr>
</tbody>
</table>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../swift-ios-client-guide/" title="Swift/iOS client guide" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Swift/iOS client guide
              </span>
            </div>
          </a>
        
        
          <a href="../user-accounts/" title="User accounts" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                User accounts
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017 Heroic Labs
          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://heroiclabs.com" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/heroiclabs" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/heroicdev" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.linkedin.com/company/heroic-labs" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.6cdc17f0.js"></script>
      
      <script>app.initialize({version:"0.17.2",url:{base:".."}})</script>
      
        <script src="../javascripts/main.js"></script>
      
    
    
      
    
  </body>
</html>